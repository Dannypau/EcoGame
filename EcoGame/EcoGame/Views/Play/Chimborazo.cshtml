
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model EcoGame.Ecosystem

<!DOCTYPE HTML>
<html>
<head>
    <style>
        #div1 {
            width: 600px;
            height: 375px;
            padding: 10px;
            text-align: center;
        }
    </style>
    <script>
        var score = 0;
        function allowDrop(ev) {
            ev.preventDefault();

        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
            ev.dataTransfer.setData("img", document.getElementById('drag0').src);


        }

        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");

            console.log("en drop :" + data);
            var img = document.createElement("img");
            switch (data) {

                case 'drag2':
                    ev.target.appendChild(document.getElementById(data));
                    var b = ev.dataTransfer.getData("img");
                    console.log(ev.dataTransfer.getData("img"));
                    var c = document.getElementById("div2");
                    score = score + 10;
                    if (b == 'http://localhost:51628/Images/chimborazo.png') {

                        img.src = "/Images/liebre_chimborazo.png";
                        img.id = "drag0";


                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);
                    } else if (b == 'http://localhost:51628/Images/vicuna_chimborazo.png') {
                        img.src = "/Images/vicuna_liebre_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);


                    } else if (b == 'http://localhost:51628/Images/lagartija_chimborazo.png') {
                        img.src = "/Images/lagartija_liebre_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);
                        document.getElementById("div2").style.display = 'block';


                    } else if (b == 'http://localhost:51628/Images/lagartija_vicuna_chimborazo.png') {
                        img.src = "/Images/lagartija_liebre_vicuna_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);
                        document.getElementById("div2").style.display = 'block';





                    }

                    break;


                case 'drag1':
                    ev.target.appendChild(document.getElementById(data));
                    var b = ev.dataTransfer.getData("img");
                    console.log('img: ' + b);
                    var c = document.getElementById("div2");
                    score = score + 10;
                    if (b == 'http://localhost:51628/Images/chimborazo.png') {

                        img.src = "/Images/vicuna_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";

                        document.getElementById("div1").appendChild(img);

                    } else if (b == 'http://localhost:51628/Images/liebre_chimborazo.png') {
                        img.src = "/Images/vicuna_liebre_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);


                    } else if (b == 'http://localhost:51628/Images/lagartija_chimborazo.png') {
                        img.src = "/Images/lagartija_vicuna_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);
                        document.getElementById("div2").style.display = 'block';


                    } else if (b == 'http://localhost:51628/Images/lagartija_liebre_chimborazo.png') {
                        img.src = "/Images/lagartija_liebre_vicuna_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);
                        document.getElementById("div2").style.display = 'block';







                    }


                    break;

                case 'drag3':
                    ev.target.appendChild(document.getElementById(data));
                    var b = ev.dataTransfer.getData("img");
                    console.log(ev.dataTransfer.getData("img"));
                    var c = document.getElementById("div2");
                    score = score + 10;
                    if (b == 'http://localhost:51628/Images/chimborazo.png') {

                        img.src = "/Images/lagartija_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";

                        document.getElementById("div1").appendChild(img);

                    } else if (b == 'http://localhost:51628/Images/vicuna_chimborazo.png') {
                        img.src = "/Images/lagartija_vicuna_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);


                    } else if (b == 'http://localhost:51628/Images/liebre_chimborazo.png') {
                        img.src = "/Images/lagartija_liebre_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);







                    }
                    else if (b == 'http://localhost:51628/Images/vicuna_liebre_chimborazo.png') {
                        img.src = "/Images/lagartija_liebre_vicuna_chimborazo.png";
                        img.id = "drag0";
                        document.getElementById("div1").innerHTML = "";
                        document.getElementById("div1").appendChild(img);

                        document.getElementById("div2").style.display = 'block';





                    }



                    break;
                default:
                    var b = ev.dataTransfer.getData("img");
                    console.log(ev.dataTransfer.getData("img"));
                    score = score - 10;
                    break;



            }

            var total = (100 * score) / 30;
            document.getElementById("div2").innerHTML = Math.round(total);
            console.log(score);




        }
        function erase(ev) {
            document.getElementById("div1").innerHTML = "";
        }
        function visible_div() {
            var elemento = document.getElementById("div2");
            elemento.style.display = 'block';
        }





    </script>
</head>


<body>
    <div class="jumbotron" style="background-color:white; opacity: 0.95;">
        <img src="~/Images/logo.png" width="200" />
        @Html.ActionLink("Volver", "Index", "Home")

        <table style="width:40%">
            <tr>
                <td>
                    <div class="jumbotron">
                        <h1>@Model.NameEcosystem</h1>
                        <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)">
                            <img class="img-responsive" id="drag0" src="~/Images/@(Model.ImgEcosystem)" />
                        </div>
                    </div>
                </td>

                <td style="color: forestgreen; font-size:36px">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                </td>

                <td>
                    <div class="jumbotron" style=" color:forestgreen ;text-align:center">
                        <h2>TOTAL</h2>
                        <div id="div2">
                            <h3>Score</h3>
                            <p>Si te equivocas será restado</p>
                        </div>
                    </div>

                    <div class="jumbotron" style="text-align:center">
                        <img id="drag1" src="~/Images/vicuna.png" style="max-height:15vh" draggable="true" ondragstart="drag(event)">
                        <img id="drag2" src="~/Images/liebre1.png" style="max-height:15vh" draggable="true" ondragstart="drag(event)">
                        <img id="drag3" src="~/Images/lagartija.png" style="max-height:15vh" draggable="true" ondragstart="drag(event)">
                        <img id="drag4" src="~/Images/puma.png" style="max-height:15vh" draggable="true" ondragstart="drag(event)">
                        <img id="drag5" src="~/Images/ardilla.png" style="max-height:15vh" draggable="true" ondragstart="drag(event)">
                    </div>

                </td>
            </tr>
        </table>
        <div>
            <h2 style="text-align:center">DESCRIPCIÓN </h2>
            <text style="color:blueviolet">
                @Model.DescEcosystem
            </text>
        </div>
    </div>
</body>
</html>